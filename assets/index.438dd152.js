(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function N(){}function V(t){return t()}function b(){return Object.create(null)}function H(t){t.forEach(V)}function v(t){return typeof t=="function"}function x(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function O(t){return Object.keys(t).length===0}function I(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function S(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function G(){return p(" ")}function P(t){return Array.from(t.childNodes)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let g;function A(t){g=t}function j(){if(!g)throw new Error("Function called outside component initialization");return g}function z(t){j().$$.on_mount.push(t)}const h=[],Y=[],L=[],k=[],B=Promise.resolve();let Z=!1;function q(){Z||(Z=!0,B.then(U))}function $(t){L.push(t)}const D=new Set;let T=0;function U(){const t=g;do{for(;T<h.length;){const e=h[T];T++,A(e),K(e.$$)}for(A(null),h.length=0,T=0;Y.length;)Y.pop()();for(let e=0;e<L.length;e+=1){const n=L[e];D.has(n)||(D.add(n),n())}L.length=0}while(h.length);for(;k.length;)k.pop()();Z=!1,D.clear(),A(t)}function K(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($)}}const Q=new Set;function J(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function X(t,e,n,c){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),c||$(()=>{const u=t.$$.on_mount.map(V).filter(v);t.$$.on_destroy?t.$$.on_destroy.push(...u):H(u),t.$$.on_mount=[]}),i.forEach($)}function M(t,e){const n=t.$$;n.fragment!==null&&(H(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function W(t,e){t.$$.dirty[0]===-1&&(h.push(t),q(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function C(t,e,n,c,r,i,u,a=[-1]){const _=g;A(t);const s=t.$$={fragment:null,ctx:[],props:i,update:N,not_equal:r,bound:b(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(_?_.$$.context:[])),callbacks:b(),dirty:a,skip_bound:!1,root:e.target||_.$$.root};u&&u(s.root);let R=!1;if(s.ctx=n?n(t,e.props||{},(f,l,...E)=>{const w=E.length?E[0]:l;return s.ctx&&r(s.ctx[f],s.ctx[f]=w)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](w),R&&W(t,f)),l}):[],s.update(),R=!0,H(s.before_update),s.fragment=c?c(s.ctx):!1,e.target){if(e.hydrate){const f=P(e.target);s.fragment&&s.fragment.l(f),f.forEach(m)}else s.fragment&&s.fragment.c();e.intro&&J(t.$$.fragment),X(t,e.target,e.anchor,e.customElement),U()}A(_)}class tt{$destroy(){M(this,1),this.$destroy=N}$on(e,n){if(!v(n))return N;const c=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return c.push(n),()=>{const r=c.indexOf(n);r!==-1&&c.splice(r,1)}}$set(e){this.$$set&&!O(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const et=async(t,e)=>{let n=new Date,c=new Date(n.getTime()-24*60*60*1e3),r=new Date(n.getTime()+24*60*60*1e3),i=new URLSearchParams({latitude:t.toString(),longitude:e.toString(),hourly:["temperature_2m","weathercode"].join(","),current_weather:"true",timezone:"auto",start_date:c.toISOString().slice(0,10),end_date:r.toISOString().slice(0,10)}),u=await fetch("https://api.open-meteo.com/v1/forecast?"+decodeURIComponent(i.toString())).then(a=>a.json());return{temperature:u.current_weather.temperature,temperatureUnit:u.hourly_units.temperature_2m,wmo:u.current_weather.weathercode,extra:u}};var o=(t=>(t[t.CLEAR=0]="CLEAR",t[t.MAINLY_CLEAR=1]="MAINLY_CLEAR",t[t.PARTLY_CLOUDY=2]="PARTLY_CLOUDY",t[t.OVERCAST=3]="OVERCAST",t[t.FOG=45]="FOG",t[t.DEPOSITING_RIME_FOG=48]="DEPOSITING_RIME_FOG",t[t.LIGHT_DRIZZLE=51]="LIGHT_DRIZZLE",t[t.MODERATE_DRIZLE=53]="MODERATE_DRIZLE",t[t.DENSE_DRIZZLE=55]="DENSE_DRIZZLE",t[t.LIGHT_FREEZING_DRIZZLE=56]="LIGHT_FREEZING_DRIZZLE",t[t.DENSE_FREEZING_DRIZZLE=57]="DENSE_FREEZING_DRIZZLE",t[t.SLIGHT_RAIN=61]="SLIGHT_RAIN",t[t.MODERATE_RAIN=63]="MODERATE_RAIN",t[t.HEAVY_RAIN=65]="HEAVY_RAIN",t[t.LIGHT_FREEZING_RAIN=66]="LIGHT_FREEZING_RAIN",t[t.HEAVY_FREEZING_RAIN=67]="HEAVY_FREEZING_RAIN",t[t.SLIGHT_SNOW=71]="SLIGHT_SNOW",t[t.MODERATE_SNOW=73]="MODERATE_SNOW",t[t.HEAVY_SNOW=75]="HEAVY_SNOW",t[t.SNOW_GRAINS=77]="SNOW_GRAINS",t[t.SLIGHT_RAIN_SHOWER=80]="SLIGHT_RAIN_SHOWER",t[t.MODERATE_RAIN_SHOWER=81]="MODERATE_RAIN_SHOWER",t[t.VIOLENT_RAIN_SHOWER=82]="VIOLENT_RAIN_SHOWER",t[t.SLIGHT_SNOW_SHOWER=85]="SLIGHT_SNOW_SHOWER",t[t.HEAVY_SNOW_SHOWER=86]="HEAVY_SNOW_SHOWER",t[t.THUNDERSTORM=95]="THUNDERSTORM",t[t.THUNDERSTORM_SLIGHT_HAIL=96]="THUNDERSTORM_SLIGHT_HAIL",t[t.THUNDERSTORM_HEAVY_HAIL=99]="THUNDERSTORM_HEAVY_HAIL",t))(o||{});function F(t){const e={get cloudy(){switch(t.wmo){case o.MAINLY_CLEAR:return"basically no";case o.PARTLY_CLOUDY:return"kinda";default:return"na"}},get raining(){switch(t.wmo){case o.LIGHT_DRIZZLE:case o.LIGHT_FREEZING_DRIZZLE:case o.DENSE_DRIZZLE:case o.DENSE_FREEZING_DRIZZLE:case o.SLIGHT_RAIN:case o.SLIGHT_RAIN_SHOWER:case o.LIGHT_FREEZING_RAIN:return"ish";case o.MODERATE_RAIN:case o.MODERATE_RAIN_SHOWER:case o.HEAVY_RAIN:case o.HEAVY_FREEZING_RAIN:case o.VIOLENT_RAIN_SHOWER:return"yup";default:return"nope"}},get thundering(){switch(t.wmo){case o.THUNDERSTORM:case o.THUNDERSTORM_SLIGHT_HAIL:case o.THUNDERSTORM_HEAVY_HAIL:return!0;default:return!1}}};return{isIt:e,shouldI:{get buyIt(){return"yes."},get goOutside(){return e.raining=="yup"?"It do be wet":e.thundering?"Nope. Thunder go brrr":t.temperature<20?"It kinda cold tho":"Yeah sure whatever"}}}}function nt(t){let e;return{c(){e=S("div"),e.textContent="\u{1F64F} Asking the rain gods..."},m(n,c){d(n,e,c)},p:N,d(n){n&&m(e)}}}function rt(t){let e,n=F(t[0]).isIt.raining+"",c,r,i,u,a=t[0].temperature+"",_,s,R=t[0].temperatureUnit+"",f;return{c(){e=S("h2"),c=p(n),r=G(),i=S("h4"),u=p("Temperature: "),_=p(a),s=G(),f=p(R)},m(l,E){d(l,e,E),I(e,c),d(l,r,E),d(l,i,E),I(i,u),I(i,_),I(i,s),I(i,f)},p(l,E){E&1&&n!==(n=F(l[0]).isIt.raining+"")&&y(c,n),E&1&&a!==(a=l[0].temperature+"")&&y(_,a),E&1&&R!==(R=l[0].temperatureUnit+"")&&y(f,R)},d(l){l&&m(e),l&&m(r),l&&m(i)}}}function it(t){let e,n,c;function r(a,_){return a[0]?rt:nt}let i=r(t),u=i(t);return{c(){e=S("main"),n=S("h1"),n.textContent="\u{1F327} Is it raining \u{1F327}",c=G(),u.c()},m(a,_){d(a,e,_),I(e,n),I(e,c),u.m(e,null)},p(a,[_]){i===(i=r(a))&&u?u.p(a,_):(u.d(1),u=i(a),u&&(u.c(),u.m(e,null)))},i:N,o:N,d(a){a&&m(e),u.d()}}}function ut(t,e,n){const c=i=>new Promise((u,a)=>navigator.geolocation.getCurrentPosition(u,a,i));z(async()=>{let i=await c(),u=await et(i.coords.latitude,i.coords.longitude);n(0,r=u)});let r;return[r]}class ct extends tt{constructor(e){super(),C(this,e,ut,it,x,{})}}new ct({target:document.getElementById("app")});
